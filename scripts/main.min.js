function timeDifference(e,t){"use strict";var i=e.insert(4,"-").insert(7,"-").insert(13,":").insert(16,":").insert(22,":"),r=t.insert(4,"-").insert(7,"-").insert(13,":").insert(16,":").insert(22,":");return moment.parseZone(r)-moment.parseZone(i)}String.prototype.insert=function(e,t){"use strict";return e>0?this.substring(0,e)+t+this.substring(e,this.length):t+this};var moment=moment,moveOPlaces=moveOPlaces,_=_,nodes=[],edges=[],bidirectional={},duration,title="";_.forEach(moveOPlaces,function(e){"use strict";duration=0,_.forEach(e.properties.intervals,function(e){duration+=timeDifference(e[0],e[1])}),title=e.properties.name||title,title+="\n"+duration/1440+" d√≠as",nodes.push({id:e.id,title:title,shape:"dot",label:"",radius:Math.sqrt(duration/1e5),mass:Object.keys(e.properties.next).length,fontSize:2*Math.log(.01*duration)}),bidirectional[e.id]={};for(var t in e.properties.next)t!=e.id&&bidirectional[t]&&bidirectional[t][e.id]?bidirectional[t][e.id]+=e.properties.next[t].length:t==e.id||bidirectional[e.id][t]?t!=e.id&&(bidirectional[e.id][t]+=e.properties.next[t].length):bidirectional[e.id][t]=e.properties.next[t].length});for(var from in bidirectional)for(var to in bidirectional[from])edges.push({from:from,to:to,width:Math.pow(1.7,bidirectional[from][to])-.7});var container=document.getElementById("graph"),data={nodes:nodes,edges:edges},options={width:"800px",height:"500px",nodes:{borderWidth:.01},tooltip:{delay:0,color:{background:"#fff",border:"ddd"}}},graph=new vis.Network(container,data,options);