function timeDifference(e,i){"use strict";var t=e.insert(4,"-").insert(7,"-").insert(13,":").insert(16,":").insert(22,":"),r=i.insert(4,"-").insert(7,"-").insert(13,":").insert(16,":").insert(22,":");return moment.parseZone(r)-moment.parseZone(t)}String.prototype.insert=function(e,i){"use strict";return e>0?this.substring(0,e)+i+this.substring(e,this.length):i+this};var moment=moment,moveOPlaces=moveOPlaces,_=_,nodes=[],edges=[],bidirectional={},duration;_.forEach(moveOPlaces,function(e){"use strict";duration=0,_.forEach(e.properties.intervals,function(e){duration+=timeDifference(e[0],e[1])}),nodes.push({id:e.id,label:e.properties.name||e.id.toString(),shape:"dot",radius:Math.sqrt(duration/1e5),mass:Object.keys(e.properties.next).length,fontSize:2*Math.log(.01*duration)}),bidirectional[e.id]={};for(var i in e.properties.next)i!=e.id&&bidirectional[i]&&bidirectional[i][e.id]?bidirectional[i][e.id]+=e.properties.next[i].length:i==e.id||bidirectional[e.id][i]?i!=e.id&&(bidirectional[e.id][i]+=e.properties.next[i].length):bidirectional[e.id][i]=e.properties.next[i].length});for(var from in bidirectional)for(var to in bidirectional[from])edges.push({from:from,to:to,width:Math.pow(1.7,bidirectional[from][to])-.7});var container=document.getElementById("graph"),data={nodes:nodes,edges:edges},options={},graph=new vis.Network(container,data,options);